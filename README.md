# Практика 2019. 

## Таблица Courses.

![Рисунок 1](img/table.png)

В таблице содержится информация о типах документов доступных в системе

Поля:

* id - int. Идентификатор записи, уникален в пределах таблицы. Заполняется автоматически.
* name - varchar. Название курса. Максимальная длина: 50 знаков.
* description - tinytext. Описание типа документа, может быть NULL (отсутствовать).
* ifActive - bit. Флаг активности данного типа документа, принимает значения 1 или 0.
* idBuilding - int. Ссылается на id и данные таблицы Building. Соответственно длина зависит от количества строк в таблицу Building.
* idTeachers - int. Ссылается на id и данные таблицы Teachers. Длина зависит от количества строк в таблице Teachers.

## Web-интерфейс.

Для того чтобы увидеть содержимое таблицы необходимо зайти на http://students.yss.su/PSTGU/2019/gritskova/Practical/table.php

Так же можно передавать GET параметр, он указывает, какую страницу вы хотите увидеть. Существует 3 варианта этого параметра

* add (new)
* red (edit)
* del

### Если не передавать параметр

Если URL выглядит так: http://students.yss.su/PSTGU/2019/gritskova/Practice/table.php и вы увидите таблицу, состоящую из восьми столбцов.

* Номер в таблице
* Название курса
* Описание курса (Может отсутствовать)
* Индикатор активности курса. (Может принимать значения 1 или 0) 
* Название копуса университета, в котором проходит курс
* ФИО преподавателя, который ведёт данный курс
* Ссылка на редактирование записи
* Ссылка на удаление записи

Для параметров red и del необходимо так же указать параметр id, который является идентификатором записи в таблице.

### Параметр red

С этим параметром необходимо указывать параметр id. Если выбран параметр "red" значит вы хотите отредактировать запись с указанным id.

После нажатия на кнопку "Edit" форма под таблицей изменится на форму редактирования, которая будет предзаполненна текущими значениями изменяемой записи, после чего данные в таблице обновятся.

### Параметр del

С этим параметром необходимо указывать параметр id. Если выбран параметр"del" значит вы хотите удалить запись из таблицы.

После нажатия на кнопку "Delete" запись будет удалена из таблицы.

## Исходый код

Исходный код состоит из одного файла: **table.php**.
В файле есть документирующие комментарии.

### Файл table.php

Файл инициализирует базу данных, обрабатывает GET и POST запросы на создание/обновление/удаление данных.

Логика кода построена в основном на циклах, с помощью которых выводится таблица и совершаются другие действия.

#### Функция `get_teacher_name($id,$cont)`

Функция получает из базы данных информацию о фамилии, имени и отчестве преподавателей с переданным в неё id. После чего формирует массив из полученных данных и возвращает его.

#### Функция `get_building_val($id,$cont)`

Функция получает из базы данных информацию о названиях учебного корпуса и формирует массив, коротый передает для последующей работы с ней.

